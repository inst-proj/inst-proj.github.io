---
title: Циклы while, for
layout: base
permalink: /js-dir/while-for/
---

<section class="section-syntax">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-10">
				<h1 class="section-syntax__head">
					{{ page.title }}
				</h1>
				<div class="section-syntax__content">
					<p>При написании скриптов зачастую встает задача сделать однотипное действие много раз.</p>
					<p>Например, вывести товары из списка один за другим. Или просто перебрать все числа от 1 до 10 и для каждого выполнить одинаковый код.</p>
					<p>Для многократного повторения одного участка кода – предусмотрены <em>циклы</em>.</p>
					<h2>Цикл while</h2><p>Цикл <code>while</code> имеет вид:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.1.png" alt="Цикл while">
					</div>
					
					<p>Пока <code>условие</code> верно – выполняется код из тела цикла.</p>
					<p>Например, цикл ниже выводит <code>i</code> пока <code>i &lt; 3</code>:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.2.png" alt="Цикл while">
					</div>
					
					<p><strong>Повторение цикла по-научному называется <em>«итерация»</em>. Цикл в примере выше совершает три итерации.</strong></p>
					<p>Если бы <code>i++</code> в коде выше не было, то цикл выполнялся бы (в теории) вечно. На практике, браузер выведет сообщение о «зависшем» скрипте и посетитель его остановит.</p>
					<p><strong>Бесконечный цикл</strong> можно сделать и проще:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.3.png" alt="Цикл while">
					</div>

					<p><strong>Условие в скобках интерпретируется как логическое значение, поэтому вместо <code>while (i!=0)</code> обычно пишут <code>while (i)</code></strong>:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.4.png" alt="Цикл while">
					</div>
					
					<h2>Цикл do…while</h2><p>Проверку условия можно поставить <em>под</em> телом цикла, используя специальный синтаксис <code>do..while</code>:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.5.png" alt="Цикл do…while">
					</div>
					
					<p>Цикл, описанный, таким образом, сначала выполняет тело, а затем проверяет условие.</p>
					<p>Например:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.6.png" alt="Цикл do…while">
					</div>
					
					<p>Синтаксис <code>do..while</code> редко используется, т.к. обычный <code>while</code> нагляднее – в нём не приходится искать глазами условие и ломать голову, почему оно проверяется именно в конце.</p>
					<h2>Цикл for</h2><p>Чаще всего применяется цикл <code>for</code>. Выглядит он так:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.7.png" alt="Цикл for">
					</div>
					
					<p>Пример цикла, который выполняет <code>alert(i)</code> для <code>i</code> от <code>0</code> до <code>2</code> включительно (до <code>3</code>):</p>
					
					<div class="flex-center">
						<img src="/images/js/14.8.png" alt="Цикл for">
					</div>
						
					<p>Здесь:</p>
					<ul>
					<li><strong>Начало:</strong> <code>i=0</code>.</li>
					<li><strong>Условие:</strong> <code>i&lt;3</code>.</li>
					<li><strong>Шаг:</strong> <code>i++</code>.</li>
					<li><strong>Тело:</strong> <code>alert(i)</code>, т.е. код внутри фигурных скобок (они не обязательны, если только одна операция)</li>
					</ul>
					<p>Цикл выполняется так:</p>
					<ol>
					<li>Начало: <code>i=0</code> выполняется один-единственный раз, при заходе в цикл.</li>
					<li>Условие: <code>i&lt;3</code> проверяется перед каждой итерацией и при входе в цикл, если оно нарушено, то происходит выход.</li>
					<li>Тело: <code>alert(i)</code>.</li>
					<li>Шаг: <code>i++</code> выполняется после <em>тела</em> на каждой итерации, но перед проверкой условия.</li>
					<li>Идти на шаг 2.</li>
					</ol>
					<p>Иными словами, поток выполнения: <code>начало</code> → (если <code>условие</code> → <code>тело</code> → <code>шаг</code>) → (если <code>условие</code> → <code>тело</code> → <code>шаг</code>) → … и так далее, пока верно <code>условие</code>.</p>
					<div class="important important_smart">
						<div class="important__header"><span class="important__type">На заметку:</span></div>
						<div class="important__content"><p>В цикле также можно определить переменную:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.9.png" alt="Цикл for">
					</div>
	
					<p>Эта переменная будет видна и за границами цикла, в частности, после окончания цикла <code>i</code> станет равно <code>3</code>.</p>
					</div></div>
					<h2>Пропуск частей for</h2><p>Любая часть <code>for</code> может быть пропущена.</p>
					<p>Например, можно убрать <code>начало</code>. Цикл в примере ниже полностью идентичен приведённому выше:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.10.png" alt="Пропуск частей for">
					</div>
					
					<p>Можно убрать и <code>шаг</code>:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.11.png" alt="Пропуск частей for">
					</div>
					
					<p>А можно и вообще убрать всё, получив бесконечный цикл:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.12.png" alt="Пропуск частей for">
					</div>
					
					<p>При этом сами точки с запятой <code>;</code> обязательно должны присутствовать, иначе будет ошибка синтаксиса.</p>
					<div class="important important_smart">
						<div class="important__header"><span class="important__type"><code>for..in</code></span></div>
						<div class="important__content"><p>Существует также специальная конструкция <code>for..in</code> для перебора свойств объекта.</p>
					<p>Мы познакомимся с ней позже, когда будем <a href="/object-for-in#for..in">говорить об объектах</a>.</p>
					</div></div>
					<h2>Прерывание цикла: break</h2><p>Выйти из цикла можно не только при проверке условия но и, вообще, в любой момент. Эту возможность обеспечивает директива <code>break</code>.</p>
					<p>Например, следующий код подсчитывает сумму вводимых чисел до тех пор, пока посетитель их вводит, а затем – выдаёт:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.13.png" alt="Прерывание цикла: break">
					</div>
					
					<p>Директива <code>break</code> в строке <code>(*)</code>, если посетитель ничего не ввёл, полностью прекращает выполнение цикла и передаёт управление на строку за его телом, то есть на <code>alert</code>.</p>
					<p>Вообще, сочетание «бесконечный цикл + break» – отличная штука для тех ситуаций, когда условие, по которому нужно прерваться, находится не в начале-конце цикла, а посередине.</p>
					<h2>Следующая итерация: continue</h2><p>Директива <code>continue</code> прекращает выполнение <em>текущей итерации</em> цикла.</p>
					<p>Она – в некотором роде «младшая сестра» директивы <code>break</code>: прерывает не весь цикл, а только текущее выполнение его тела, как будто оно закончилось.</p>
					<p>Её используют, если понятно, что на текущем повторе цикла делать больше нечего.</p>
					<p>Например, цикл ниже использует <code>continue</code>, чтобы не выводить чётные значения:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.14.png" alt="Прерывание цикла: break">
					</div>
					
					<p>Для чётных <code>i</code> срабатывает <code>continue</code>, выполнение тела прекращается и управление передаётся на следующий проход <code>for</code>.</p>
					<div class="important important_smart">
						<div class="important__header"><span class="important__type">Директива <code>continue</code> позволяет обойтись без скобок</span></div>
						<div class="important__content"><p>Цикл, который обрабатывает только нечётные значения, мог бы выглядеть так:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.15.png" alt="Директива continue">
					</div>
					
					<p>С технической точки зрения он полностью идентичен. Действительно, вместо <code>continue</code> можно просто завернуть действия в блок <code>if</code>. Однако, мы получили дополнительный уровень вложенности фигурных скобок. Если код внутри <code>if</code> более длинный, то это ухудшает читаемость, в отличие от варианта с <code>continue</code>.</p>
					</div></div>
					<div class="important important_warn">
						<div class="important__header"><span class="important__type">Нельзя использовать break/continue справа от оператора „?“</span></div>
						<div class="important__content"><p>Обычно мы можем заменить <code>if</code> на оператор вопросительный знак <code>'?'</code>.</p>
					<p>То есть, запись:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.16.png" alt="Директива continue">
					</div>
					
					<p>…Аналогична записи:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.17.png" alt="Директива continue">
					</div>
					
					<p>В обоих случаях в зависимости от условия выполняется либо <code>a()</code> либо <code>b()</code>.</p>
					<p>Но разница состоит в том, что оператор вопросительный знак <code>'?'</code>, использованный во второй записи, возвращает значение.</p>
					<p><strong>Синтаксические конструкции, которые не возвращают значений, нельзя использовать в операторе <code>'?'</code>.</strong></p>
					<p>К таким относятся большинство конструкций и, в частности, <code>break/continue</code>.</p>
					<p>Поэтому такой код приведёт к ошибке:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.18.png" alt="break / continue">
					</div>
					
					<p>Впрочем, как уже говорилось ранее, оператор вопросительный знак <code>'?'</code> не стоит использовать таким образом. Это – всего лишь ещё одна причина, почему для проверки условия предпочтителен <code>if</code>.</p>
					</div></div>
					<h2>Метки для break/continue</h2><p>Бывает нужно выйти одновременно из нескольких уровней цикла.</p>
					<p>Например, внутри цикла по <code>i</code> находится цикл по <code>j</code>, и при выполнении некоторого условия мы бы хотели выйти из обоих циклов сразу:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.19.png" alt="Метки для break/continue">
					</div>
				
					<p>В коде выше для этого использована <em>метка</em>.</p>
					<p>Метка имеет вид <code>&quot;имя:&quot;</code>, имя должно быть уникальным. Она ставится перед циклом, вот так:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.20.png" alt="Метки для break/continue">
					</div>
					
					<p>Можно также выносить её на отдельную строку:</p>
					
					<div class="flex-center">
						<img src="/images/js/14.21.png" alt="Метки для break/continue">
					</div>
						
						<p>Вызов <code>break outer</code> ищет ближайший внешний цикл с такой меткой и переходит в его конец.</p>
					<p>В примере выше это означает, что будет разорван самый внешний цикл и управление перейдёт на <code>alert</code>.</p>
					<p>Директива <code>continue</code> также может быть использована с меткой, в этом случае управление перепрыгнет на следующую итерацию цикла с меткой.</p>
					<h2>Итого</h2><p>JavaScript поддерживает три вида циклов:</p>
					<ul>
					<li><code>while</code> – проверка условия перед каждым выполнением.</li>
					<li><code>do..while</code> – проверка условия после каждого выполнения.</li>
					<li><code>for</code> – проверка условия перед каждым выполнением, а также дополнительные настройки.</li>
					</ul>
					<p>Чтобы организовать бесконечный цикл, используют конструкцию <code>while(true)</code>. При этом он, как и любой другой цикл, может быть прерван директивой <code>break</code>.</p>
					<p>Если на данной итерации цикла делать больше ничего не надо, но полностью прекращать цикл не следует – используют директиву <code>continue</code>.</p>
					<p>Обе этих директивы поддерживают «метки», которые ставятся перед циклом. Метки – единственный способ для <code>break/continue</code> повлиять на выполнение внешнего цикла.</p>
					<p>Заметим, что метки не позволяют прыгнуть в произвольное место кода, в JavaScript нет такой возможности.</p>
				</div>
			</div>
		</div>
	</div>
</section>